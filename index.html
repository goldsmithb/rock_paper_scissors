<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Rock Paper Scissors</title>
</head>
<body>

<script>
    function getComputerChoice () {
        let choice = Math.floor(Math.random()*3);
        switch(choice) {
            case 0: return "rock";
            case 1: return "paper";
            case 2: return "scissors";
        }
    }

    // Return the score from perspective of player A's move
    function scoreA(A, B) {
        if (A === "rock") {
            if (B === "rock") return "draw";
            else if (B === "paper") return "lose";
            else if (B === "scissors") return "win";
        } else if (A === "paper") {
            if (B === "rock") return "win";
            else if (B === "paper") return "draw";
            else if (B === "scissors") return "lost";
        } else if (A === "scissors") {            
            if (B === "rock") return "lose";
            else if (B === "paper") return "win";
            else if (B === "scissors") return "draw";
        }
        return "incorrect input";
    }

    function playRound(playerMove, computerMove) {
        playerMove = playerMove.toLowerCase();
        computerMove = computerMove.toLowerCase();

        switch (scoreA(playerMove, computerMove)) {
            case "win" :
                return `Nice job! ${playerMove} beats ${computerMove}!`;
            case "lose" :
                return `Aw dang! ${computerMove} beats ${playerMove}!`;
            case "draw" :
                return "Draw! Try again";
        }
    }

    function game() {
        function displayScore() {
            console.log(`Round: ${round}\n Player: ${playerScore}\t Computer: ${computerScore}`);
        }

        let round = 1;
        let playerScore = 0;
        let computerScore = 0;
        let playerMove = '';
        let computerMove = '';

        console.log("Let's play a new game of \'Rock, Paper, Scissors!\'!");
        
        for (round; round <= 5; round++) {
            displayScore();
            // for now, player always throws rock. --- TODO
            playerMove = "Rock"
            computerMove = getComputerChoice();
            playRound(playerMove, computerMove);
        }
        displayScore();
    }

    game();

</script>
    
</body>
</html>